{"ast":null,"code":"import React,{useState}from'react';import{Camera,CameraResultType}from'@capacitor/camera';import{Geolocation}from'@capacitor/geolocation';import blueCamera from'./assets/blue_camera.png';// Update the path based on your structure\nimport greenCamera from'./assets/green_camera.png';// Update the path based on your structure\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const PhotoCapture=_ref=>{let{onCapture}=_ref;const[photos,setPhotos]=useState([]);const takePhoto=async index=>{const image=await Camera.getPhoto({quality:90,allowEditing:false,resultType:CameraResultType.Uri});const coordinates=await Geolocation.getCurrentPosition();const photoData={imageUrl:image.webPath,latitude:coordinates.coords.latitude,longitude:coordinates.coords.longitude};const newPhotos=[...photos];if(index!==undefined){newPhotos[index]=photoData;}else{newPhotos.push(photoData);}setPhotos(newPhotos);onCapture(newPhotos);};const startOver=()=>{setPhotos([]);onCapture([]);};return/*#__PURE__*/_jsxs(\"div\",{children:[photos.length<4&&/*#__PURE__*/_jsx(\"div\",{className:\"camera-button\",onClick:()=>takePhoto(),children:/*#__PURE__*/_jsx(\"img\",{src:photos.length===0?blueCamera:greenCamera,alt:\"Take Photo\"})}),photos.length>0&&/*#__PURE__*/_jsx(\"div\",{style:{display:'flex',flexDirection:'row',overflowX:'auto'},children:photos.map((photo,index)=>/*#__PURE__*/_jsxs(\"div\",{style:{margin:'0 10px',textAlign:'center'},children:[/*#__PURE__*/_jsxs(\"h4\",{children:[\"Photo \",index+1,\" (of 4)\"]}),/*#__PURE__*/_jsx(\"img\",{src:photo.imageUrl,alt:\"Photo \".concat(index+1),style:{width:'100px',height:'100px',objectFit:'cover'}}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Lat: \",photo.latitude,\", Lng: \",photo.longitude]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>takePhoto(index),children:[\"Retake Photo \",index+1]})]},index))}),photos.length===4&&/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{onClick:startOver,children:\"Start Over\"})})]});};export default PhotoCapture;","map":{"version":3,"names":["React","useState","Camera","CameraResultType","Geolocation","blueCamera","greenCamera","jsx","_jsx","jsxs","_jsxs","PhotoCapture","_ref","onCapture","photos","setPhotos","takePhoto","index","image","getPhoto","quality","allowEditing","resultType","Uri","coordinates","getCurrentPosition","photoData","imageUrl","webPath","latitude","coords","longitude","newPhotos","undefined","push","startOver","children","length","className","onClick","src","alt","style","display","flexDirection","overflowX","map","photo","margin","textAlign","concat","width","height","objectFit"],"sources":["/Users/buddychin/Desktop/geofence-photo/photo-geo-pwa/src/PhotoCapture.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Camera, CameraResultType } from '@capacitor/camera';\nimport { Geolocation } from '@capacitor/geolocation';\nimport blueCamera from './assets/blue_camera.png'; // Update the path based on your structure\nimport greenCamera from './assets/green_camera.png'; // Update the path based on your structure\n\nconst PhotoCapture = ({ onCapture }) => {\n  const [photos, setPhotos] = useState([]);\n\n  const takePhoto = async (index) => {\n    const image = await Camera.getPhoto({\n      quality: 90,\n      allowEditing: false,\n      resultType: CameraResultType.Uri\n    });\n\n    const coordinates = await Geolocation.getCurrentPosition();\n\n    const photoData = {\n      imageUrl: image.webPath,\n      latitude: coordinates.coords.latitude,\n      longitude: coordinates.coords.longitude\n    };\n\n    const newPhotos = [...photos];\n    if (index !== undefined) {\n      newPhotos[index] = photoData;\n    } else {\n      newPhotos.push(photoData);\n    }\n\n    setPhotos(newPhotos);\n    onCapture(newPhotos);\n  };\n\n  const startOver = () => {\n    setPhotos([]);\n    onCapture([]);\n  };\n\n  return (\n    <div>\n      {photos.length < 4 && (\n        <div className=\"camera-button\" onClick={() => takePhoto()}>\n          <img src={photos.length === 0 ? blueCamera : greenCamera} alt=\"Take Photo\" />\n        </div>\n      )}\n      {photos.length > 0 && (\n        <div style={{ display: 'flex', flexDirection: 'row', overflowX: 'auto' }}>\n          {photos.map((photo, index) => (\n            <div key={index} style={{ margin: '0 10px', textAlign: 'center' }}>\n              <h4>Photo {index + 1} (of 4)</h4>\n              <img src={photo.imageUrl} alt={`Photo ${index + 1}`} style={{ width: '100px', height: '100px', objectFit: 'cover' }} />\n              <p>Lat: {photo.latitude}, Lng: {photo.longitude}</p>\n              <button onClick={() => takePhoto(index)}>Retake Photo {index + 1}</button>\n            </div>\n          ))}\n        </div>\n      )}\n      {photos.length === 4 && (\n        <div>\n          <button onClick={startOver}>Start Over</button>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default PhotoCapture;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}