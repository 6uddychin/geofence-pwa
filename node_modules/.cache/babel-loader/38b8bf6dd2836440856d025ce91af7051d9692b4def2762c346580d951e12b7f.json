{"ast":null,"code":"import React,{useState}from'react';import{Camera,CameraResultType}from'@capacitor/camera';import{Geolocation}from'@capacitor/geolocation';import blueCamera from'./assets/blue_camera.png';// Ensure this path is correct\nimport greenCamera from'./assets/green_camera.png';// Ensure this path is correct\nimport{jsx as _jsx,Fragment as _Fragment,jsxs as _jsxs}from\"react/jsx-runtime\";const PhotoCapture=_ref=>{let{onCapture}=_ref;const[photos,setPhotos]=useState([]);const takePhoto=async index=>{const image=await Camera.getPhoto({quality:90,allowEditing:false,resultType:CameraResultType.Uri});const coordinates=await Geolocation.getCurrentPosition();const photoData={imageUrl:image.webPath,latitude:coordinates.coords.latitude,longitude:coordinates.coords.longitude};const newPhotos=[...photos];newPhotos[index]=photoData;setPhotos(newPhotos);onCapture(newPhotos);};const startOver=()=>{setPhotos([]);onCapture([]);};return/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"photo-gallery\",style:{display:'flex',justifyContent:'center',margin:'10px 0'},children:[0,1,2,3].map(index=>/*#__PURE__*/_jsxs(\"div\",{style:{margin:'0 10px',textAlign:'center'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"camera-button\",onClick:()=>takePhoto(index),children:/*#__PURE__*/_jsx(\"img\",{src:photos[index]?greenCamera:blueCamera,alt:\"Camera Icon \".concat(index+1),style:{width:'50px',height:'50px'}})}),photos[index]&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"img\",{src:photos[index].imageUrl,alt:\"Photo \".concat(index+1),style:{width:'100px',height:'100px',objectFit:'cover'}})})]},index))})});};export default PhotoCapture;","map":{"version":3,"names":["React","useState","Camera","CameraResultType","Geolocation","blueCamera","greenCamera","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","PhotoCapture","_ref","onCapture","photos","setPhotos","takePhoto","index","image","getPhoto","quality","allowEditing","resultType","Uri","coordinates","getCurrentPosition","photoData","imageUrl","webPath","latitude","coords","longitude","newPhotos","startOver","children","className","style","display","justifyContent","margin","map","textAlign","onClick","src","alt","concat","width","height","objectFit"],"sources":["/Users/buddychin/Desktop/geofence-photo/photo-geo-pwa/src/PhotoCapture.js"],"sourcesContent":["import React, { useState } from 'react';\nimport { Camera, CameraResultType } from '@capacitor/camera';\nimport { Geolocation } from '@capacitor/geolocation';\nimport blueCamera from './assets/blue_camera.png'; // Ensure this path is correct\nimport greenCamera from './assets/green_camera.png'; // Ensure this path is correct\n\nconst PhotoCapture = ({ onCapture }) => {\n  const [photos, setPhotos] = useState([]);\n\n  const takePhoto = async (index) => {\n    const image = await Camera.getPhoto({\n      quality: 90,\n      allowEditing: false,\n      resultType: CameraResultType.Uri\n    });\n\n    const coordinates = await Geolocation.getCurrentPosition();\n\n    const photoData = {\n      imageUrl: image.webPath,\n      latitude: coordinates.coords.latitude,\n      longitude: coordinates.coords.longitude\n    };\n\n    const newPhotos = [...photos];\n    newPhotos[index] = photoData;\n\n    setPhotos(newPhotos);\n    onCapture(newPhotos);\n  };\n\n  const startOver = () => {\n    setPhotos([]);\n    onCapture([]);\n  };\n\n  return (\n    <div>\n      <div className=\"photo-gallery\" style={{ display: 'flex', justifyContent: 'center', margin: '10px 0' }}>\n        {[0, 1, 2, 3].map((index) => (\n          <div key={index} style={{ margin: '0 10px', textAlign: 'center' }}>\n            {/* <h4>Photo {index + 1} (of 4)</h4> */}\n            <div className=\"camera-button\" onClick={() => takePhoto(index)}>\n              <img\n                src={photos[index] ? greenCamera : blueCamera}\n                alt={`Camera Icon ${index + 1}`}\n                style={{ width: '50px', height: '50px' }}\n              />\n            </div>\n            {photos[index] && (\n              <>\n                <img src={photos[index].imageUrl} alt={`Photo ${index + 1}`} style={{ width: '100px', height: '100px', objectFit: 'cover' }} />\n                {/* <p>Lat: {photos[index].latitude}, Lng: {photos[index].longitude}</p> */}\n                {/* <button onClick={() => takePhoto(index)}>Retake Photo {index + 1}</button> */}\n              </>\n            )}\n          </div>\n        ))}\n      </div>\n      {/* {photos.length === 4 && (\n        <div>\n          <button onClick={startOver}>Start Over</button>\n        </div>\n      )} */}\n    </div>\n  );\n};\n\nexport default PhotoCapture;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}